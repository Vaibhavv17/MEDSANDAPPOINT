<script>
  function addMedicine() {
    const nameInput = document.getElementById('medicineName');
    const timeInput = document.getElementById('medicineTime');
    const medicineName = nameInput.value.trim();
    const medicineTime = timeInput.value;

    if (medicineName === '') {
      alert('Please enter a medicine name.');
      return;
    }

    $medicineList.push({ name: medicineName, time: medicineTime });

    nameInput.value = '';
    timeInput.value = '';
  }

  let medicineList = [];
</script>

<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-4">Medicine Tracker</h1>
  <div class="mb-4">
    <label for="medicineName" class="block font-semibold">Medicine Name:</label>
    <input type="text" id="medicineName" class="w-full rounded-md p-2 border border-gray-300 focus:outline-none focus:border-blue-500">
  </div>
  <div class="mb-4">
    <label for="medicineTime" class="block font-semibold">Time:</label>
    <div id="medicineTimeWrapper" class="w-full rounded-md p-2 border border-gray-300 focus:outline-none focus:border-blue-500">
      <input type="time" id="medicineTime" class="w-full bg-transparent">
    </div>
  </div>
  <button on:click={addMedicine} class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md">Add Medicine</button>
  <ul id="medicineList" class="mt-4">
    {#each medicineList as medicine}
      <li class="bg-white rounded-md shadow-md p-4 mb-2 flex items-center justify-between">
        <input type="checkbox" on:click={() => medicine.completed = !medicine.completed}>
        <label class:line-through={medicine.completed}>{medicine.name} at {medicine.time}</label>
      </li>
    {/each}
  </ul>
</div>
